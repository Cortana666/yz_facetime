<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>设备检测</title>
    <style>
        .video {
            width: 480px;
            height: 320px;
        }
    
        @media (max-width: 640px) {
            .video {
                width: 320px;
                height: 240px;
            }
        }
    </style>
</head>
<body>
    <div>
        <input class="func" type="button" value="网络检测" onclick="agoraNetCheck()">
        <span id="downlink_status"></span>
        <span id="uplink_status"></span>
    </div>
    <hr/>
    <div>
        <select id="microphone_device">
        
        </select>
        <select id="camera_device">
        
        </select>
        <input class="func" type="button" value="设备检测" onclick="agoraDeviceCheck()">
        <span id="device_status"></span>
    </div>
    <hr/>
    <div id="video_div">
        <div id="video" class="video"></div>
    </div>
    <hr/>
    <div>
        <input id="check" type="checkbox">我确认网络及设备没有问题，进入面试
        <input id="join" type="button" value="进入考场" disabled>
    </div>
</body>
<script src="js/public.js"></script>
<script>
    // 存储信息
    localStorage.setItem('room_id', getUrlQuery("room_id"));
</script>
<script src="js/jquery-3.6.0.min.js"></script>
<script src="js/AgoraRTC_N-4.5.0.js"></script>
<script src="js/room_token.js"></script>
<script src="js/agora_func.js"></script>
<script>
    // 状态初始化
    agoraGetDevice();

    // 确认切换
    $("#check").change(function () {
        if ($(this).prop('checked')) {
            $("#join").attr('disabled', false);
        } else {
            $("#join").attr('disabled', true);
        }
    });

    // 进入考场
    $("#join").click(function() {
        location.href = "checkface.html";
    });
</script>
</html>